## **1. Hector SLAM （主要运用障碍物点云配置）**

### **算法实现原理**

1. 高斯牛顿扫描匹配
   - 核心通过**高斯牛顿迭代优化**对齐当前激光扫描与已有地图，最小化扫描点与地图的欧氏距离。
   - 代价函数定义为：

$$
\xi^* = \arg\min_{\xi} \sum_{i=1}^{n} \left[1 - M\left(T_{\xi}(p_i)\right)\right]^2
$$

其中，$T_{\xi}(p_i)$  $表示位姿变换，$$M$为栅格地图的概率值（0-1）。

- 通过雅可比矩阵计算位姿增量，迭代优化直至收敛。

1. **多分辨率地图分层**：
   - 构建多层级（如0.05m、0.1m、0.2m分辨率）的栅格地图，粗分辨率地图用于快速匹配初始位姿，细分辨率地图用于精确优化。
2. **无里程计依赖**：
   - 仅依赖激光雷达数据，通过连续帧的扫描匹配推算相对运动，无需IMU或轮式编码器数据。

### **优点**

- **无需外部传感器**：适合无人机、手持设备等无法稳定获取里程计的场景。
- **快速响应**：高频率激光雷达下实时性较好。

### **缺点**

- **依赖高频低噪雷达**：低频率或噪声大的雷达易导致匹配失败。
- **无回环检测**：长期运行累积误差无法消除。
- **动态环境鲁棒性差**：移动障碍物会导致地图错位。

------

## **2. Gmapping (基于RBPF的SLAM//里程计+障碍物点云配置算法)**

### **算法实现原理**

1. **Rao-Blackwellized粒子滤波 (RBPF)**：
   - 将SLAM分解为 **定位（粒子滤波）** 和 **建图（栅格地图更新）** 两个步骤。
   - 每个粒子表示一个可能的机器人轨迹，并维护对应的地图。
2. **提议分布优化**：
   - 采用**扫描匹配优化提议分布**，通过当前激光数据优化每个粒子的位姿，减少粒子数量需求（通常100个粒子即可）。
   - 提议分布公式：

$$
p(x_t | x_{t-1}, u_t, z_t) \approx \frac{p(z_t | x_t, m_{t-1}) p(x_t | x_{t-1}, u_t)}{\eta}
$$

其中 $$  u_t $$为里程计数据，$$ z_t$$ 为激光数据。

1. 自适应重采样

   ：

   - 根据粒子权重（归一化后）决定是否重采样，避免粒子退化。

### **优点**

- **鲁棒定位**：融合里程计与激光数据，室内小场景精度高。
- **计算效率高**：优化后的粒子滤波在资源受限设备上表现良好。

### **缺点**

- **依赖里程计质量**：里程计误差直接影响建图精度。
- **无回环检测**：大场景中地图无法闭合。
- **粒子退化风险**：长时间运行后粒子多样性下降，可能定位失败。

------

## **3. Google Cartographer**

### **算法实现原理**

1. **子图（Submap）构建**：
   - 将连续激光扫描数据积累为局部子图，每个子图通过 **扫描匹配（CSM）** 与当前位姿对齐。
   - 子图匹配采用 **分支定界算法（Branch-and-Bound）** 加速搜索，在离散位姿空间中快速找到最优解。
2. **全局优化与回环检测**：
   - 使用 **稀疏位姿调整（SPA）** 优化所有子图的全局一致性，通过回环检测约束修正累积误差。
   - 回环检测基于**多分辨率栅格地图匹配**，利用分支定界法加速。
3. **多传感器融合**：
   - 支持激光雷达、IMU、里程计等多传感器融合，通过卡尔曼滤波或图优化整合数据。

### **优点**

- **高精度大场景建图**：回环检测与全局优化显著降低累积误差。
- **工程化设计**：模块化代码支持2D/3D扩展，适合工业应用。
- **多传感器兼容**：适应复杂环境（如无GPS的室内外混合场景）。

### **缺点**

- **计算资源需求高**：实时优化大规模地图需要高性能CPU/GPU。
- **参数调优复杂**：子图大小、回环检测阈值等参数需精细调节。
- **小场景冗余**：相比Gmapping，小场景计算量更大但精度提升有限。

------

## **算法对比总结**

| 特性           | Hector SLAM              | Gmapping                | Cartographer                   |
| -------------- | ------------------------ | ----------------------- | ------------------------------ |
| **核心方法**   | 高斯牛顿扫描匹配         | RBPF粒子滤波 + 扫描匹配 | 子图优化 + 分支定界 + 全局SPA  |
| **依赖传感器** | 仅激光雷达               | 激光雷达 + 里程计       | 激光雷达 + 可选IMU/里程计      |
| **回环检测**   | 不支持                   | 不支持                  | 支持（多分辨率匹配）           |
| **计算复杂度** | 低（无粒子滤波）         | 中（粒子数少时）        | 高（全局优化 + 回环检测）      |
| **适用场景**   | 无里程计、小规模静态环境 | 室内小场景、稳定里程计  | 大规模复杂环境、多传感器融合   |
| **实时性**     | 高（需高频雷达）         | 高（粒子数少时）        | 中（依赖硬件性能）             |
| **工程化程度** | 低（无回环，鲁棒性差）   | 中（适合嵌入式设备）    | 高（模块化设计，支持商业扩展） |

------

## **应用场景建议**

- **Hector SLAM**：手持扫描设备、无人机等无里程计场景，需快速部署且环境静态。
- **Gmapping**：室内服务机器人、扫地机器人等小规模场景，配备可靠里程计。
- **Cartographer**：自动驾驶、仓储物流、大规模测绘等需高精度地图和回环检测的场景。

